# TNovel ë°±ì—”ë“œ í”„ë¡œì íŠ¸

### ERD êµ¬ì¡°ë„

![ERD ë‹¤ì´ì–´ê·¸ëž¨](./docs/tnovel-erd.png)

---

### Exception ì„¤ê³„

- `ErrorCode` ì¸í„°íŽ˜ì´ìŠ¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë„ë©”ì¸ë³„ ì—ëŸ¬ ì½”ë“œ(enum)ë¥¼ ì¼ê´€ì„± ìžˆê²Œ ì •ì˜
- `BusinessException`ì„ ìƒìœ„ ì˜ˆì™¸ í´ëž˜ìŠ¤ë¡œ í•˜ì—¬, ë„ë©”ì¸ë³„ ì˜ˆì™¸(`UserException` ë“±)ë¥¼ ì„¸ë¶„í™”
- ì „ì—­ ì˜ˆì™¸ í•¸ë“¤ëŸ¬ `ExceptionAdvice`ì—ì„œ `@ExceptionHandler(BusinessException.class)`ë¡œ í†µí•© ì²˜ë¦¬
- Validation ê´€ë ¨ ì˜ˆì™¸ (`MethodArgumentNotValidException`, `ConstraintViolationException`) ë° `ResponseStatusException`ë„ ë³„ë„
  ì²˜ë¦¬

---

### ì¸ì¦ ë°©ì‹

- JWT ê¸°ë°˜ ë¬´ìƒíƒœ ì¸ì¦ ë°©ì‹ ì‚¬ìš©
- ë¡œê·¸ì¸ ì„±ê³µ ì‹œ Access Tokenì´ ë°œê¸‰ë˜ë©°, ì´í›„ ìš”ì²­ ì‹œ Authorization í—¤ë”ë¥¼ í†µí•´ ì¸ì¦ì„ ìˆ˜í–‰

### ë¡œê·¸ì¸ ë°©ì‹

- ì§€ì›: LOCAL, KAKAO, GOOGLE, APPLE, NAVER
- ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸: êµ¬í˜„ ì™„ë£Œ (API í˜¸ì¶œ ì„±ê³µ ë° DB ì €ìž¥ ì •ìƒ ë™ìž‘)
- ë¡œì»¬ íšŒì›ê°€ìž… ë° ëª¨ë“  ì†Œì…œ ë¡œê·¸ì¸ ì‹œ JWT í† í° ë°œê¸‰ (username + role ê¸°ë°˜)
- swaggerì—ì„œ ì¹´ì¹´ì˜¤í†¡ ë¡œê·¸ì¸ apië¥¼ ì‹œí–‰í•  ìˆ˜ ì—†ê¸°ì— ì„±ê³µ ì´ë¯¸ì§€ë¡œ ëŒ€ì²´í•©ë‹ˆë‹¤.
- ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ url : http://localhost:8080/oauth2/authorization/kakao
  ![ë¡œê·¸ì¸ ì„±ê³µ API](./docs/kakao-login.png)

---

### ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨ ìŠ¤ì¼€ì¥´ëŸ¬

- ìƒˆë²½ 3ì‹œë§ˆë‹¤ ê²€ì¦, ìµœí›„ ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨ì´ 1ë…„ì´ ì§€ë‚  ê²½ìš° ì¶”í›„ ë¡œì§(ì´ë©”ì¼ ì „ì†¡, íŽ˜ì´ì§€ ë¦¬ë‹¤ì´ë ‰íŒ… ë“±) í• ìˆ˜ ìžˆë„ë¡ ìŠ¤ì¼€ì¥´ëŸ¬ êµ¬í˜„

## ðŸ“–ìž‘ì—…ì¼ì§€

### 2025-08-30

- í”„ë¡œì íŠ¸ ê¸°ë³¸ ì„¸íŒ…
- Dockerfile ìž‘ì„± (ê°œë°œìš© + ìš´ì˜ìš© yml)

### 2025-08-31

- ì „ì²´ ìš”êµ¬ì‚¬í•­ ë¶„ì„ ë° ERD ì„¤ê³„

### 2025-09-02

- ì¸ì¦ ë°©ì‹ ì„¤ì • : JWT í† í°
- cors ì„¤ì • ë° env ì¶”ê°€
- PasswordEncoder : BCryptPasswordEncoder
- PhoneEncryptor : AES (ëŒ€ì¹­í‚¤ ì•”í˜¸í™”, ì¸ì¦ë²ˆí˜¸ ë° ë§ˆìºíŒ… ëª©ì )

### 2025-09-03

- ë¨¼ì € í•´ì•¼í•  ê²ƒ exception í•¸ë“¤ëŸ¬ ë¡œì§ ë¨¼ì € ì¶”ê°€ ì™„ë£Œ
- -ë¡œì»¬ ë¡œê·¸ì¸ ì¶”ê°€
- Oauth ë¡œê·¸ì¸ ì¶”ê°€
- swagger ì¶”ê°€ ì™„ë£Œ
- ë¡œì»¬ íšŒì›ê°€ìž… Validation ê²€ì¦ ì™„ë£Œ
- íšŒì›ê°€ìž…ì‹œ ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨ ë™ì˜ ì¶”ê°€, kakao ê²½ìš° ë¡œê·¸ì¸ì‹œ í”„ë¡ íŠ¸ì˜ ì¶”ê°€ redirect ë° ë³„ë„ POSTê°€ í•„ìš”í•˜ì§€ë§Œ, API í˜¸ì¶œ ë¶ˆê°€ë¡œ ìƒëžµ(í”„ë¡ íŠ¸ ë¯¸êµ¬í˜„)
- ìŠ¤ì¼€ì¥´ëŸ¬ ê¸°ëŠ¥ ì¶”ê°€
- ì–´ë“œë¯¼ íŽ˜ì´ì§€ íšŒì›ê°€ìž…, ë¡œê·¸ì¸, ì–´ë“œë¯¼ ê¶Œí•œìœ¼ë¡œ ì „ì²´ ìœ ì € ì¡°íšŒ ê¸°ëŠ¥ ë° Swagger ì¶”ê°€.

### 2025-09-04

- ì–´ë“œë¯¼ ê´€ë ¨ API ì¶”ê°€ (ëª¨ë‘ íŽ˜ì´ì§€ë„¤ì´ì…˜ ì ìš©)
    + ì „ì²´ ìœ ì € ì¡°íšŒ ê¸°ëŠ¥ êµ¬í˜„ ì™„ë£Œ
    + í•´ë‹¹ í‚¤ì›Œë“œ í¬í•¨ ì•„ì´ë””ë¥¼ ê°€ì§„ ìœ ì € ê²€ìƒ‰ ê¸°ëŠ¥ êµ¬í˜„ ì™„ë£Œ
    + í•´ë‹¹ í‚¤ì›Œë“œ í¬í•¨ ë‹‰ë„¤ìž„ì„ ê°€ì§„ ìœ ì € ê²€ìƒ‰ ê¸°ëŠ¥ êµ¬í˜„ ì™„ë£Œ
    + í•´ë‹¹ ë‚ ì§œì— íšŒì›ê°€ìž…í•œ ìœ ì € ê²€ìƒ‰ ê²€ìƒ‰ ê¸°ëŠ¥ êµ¬í˜„ ì™„ë£Œ
    + ìœ ì € ë²¤í•˜ê¸° API ì¶”ê°€ ì™„ë£Œ
    + User ì—”í‹°í‹°ì— lastLoginAt ì¶”ê°€ í›„ ì–´ë“œë¯¼íŽ˜ì´ì§€ì—ì„œ ë§ˆì§€ë§‰ ë¡œê·¸ì¸ ì‹œê°„ë„ ê°™ì´ ì¡°íšŒ í• ìˆ˜ ìžˆê²Œ ì¶”ê°€
    + ì¤‘ë³µ ê²€ìƒ‰..í†µí•©ê²€ìƒ‰ì„ ëŠ¦ê²Œ í™•ì¸í•˜ì—¬ ë‹¨ì¼ ê²€ìƒ‰ ì‹¤ì»·ë§Œë“¤ê³  í†µí•© ê²€ìƒ‰ë„ êµ¬í˜„.. ë‹¨ì¼ ê²€ìƒ‰ì€ ì•„ê¹Œì›Œì„œ ì¼ë‹¨ ë†”ë‘¡ë‹ˆë‹¤ ã… ã… 

### 2025-09-05

- ê²°ì œ ê´€ë ¨ API ì¶”ê°€
- prepare / verify / confirm 3ë‹¨ê³„ë¡œ êµ¬ì„±
- verifyëŠ” ì‹¤ì œ ê²°ì œê°€ ì´ë£¨ì–´ ì§ˆìˆ˜ ì—†ëŠ” ì ì„ ê°ì•ˆí•´ì„œ ì½”ë“œ êµ¬í˜„ë§Œ ë˜ì–´ìžˆê³  API í…ŒìŠ¤íŠ¸ê°€ ë¶ˆê°€í•©ë‹ˆë‹¤.
- ì„±ê³µì‹œ : prepare > verify > successConfirm
- ì‹¤íŒ¨ì‹œ : prepare > verify > failConfirm